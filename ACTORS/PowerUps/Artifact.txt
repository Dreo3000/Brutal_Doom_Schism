// Invulnerability Sphere ---------------------------------------------------

ACTOR InvulnerabilitySphere_  : PowerupGiver Replaces InvulnerabilitySphere
{
	Game Doom
	SpawnID 133
	+COUNTITEM
	+INVENTORY.AUTOACTIVATE
	+INVENTORY.ALWAYSPICKUP
	+INVENTORY.BIGPOWERUP
	Inventory.MaxAmount 0
	Powerup.Type Invulnerable
	//Powerup.Color White //InverseMap
	Powerup.Colormap 0.0, 0.0, 0.0, 1.0,1.0,1.0
	Inventory.PickupMessage "$GOTINVUL"
	Tag "Invulnerability"
	States
	{
	Spawn:
		PINV AAABBBCCCDDD 2 Bright A_SpawnItem("GreenFlareMedium",0,20)
		Loop
	}
}




// Soulsphere --------------------------------------------------------------

ACTOR LifeSphere : CustomInventory Replaces SoulSphere
{
	+COUNTITEM
	+INVENTORY.ALWAYSPICKUP
	Inventory.PickupMessage "Soulsphere"
	Inventory.PickupSound "misc/p_pkup"
	Tag "Soulsphere"
	States
	{
	Spawn:
		TNT1 A 0 A_CheckSight("Spawn2")
		SOUL AAABBBCCCDDDCCCBBB 2 Bright A_SpawnItem("BlueFlareMedium2",0,20)
		Loop
	Spawn2:
		SOUL ABCDCB 2 BRIGHT
		Goto Spawn
	Pickup:
        TNT1 AAAAAAAAAAAAA 0 A_CustomMissile ("ShinnySmoke", 0, 0, random (0, 360), 2, random (0, 360))
		TNT1 A 0 A_GiveInventory("SoulSphereHealth", 1)
		Stop
	}
}

ACTOR SoulSphereHealth : Health	
{
	Inventory.Amount 100
	Inventory.MaxAmount 200
	+INVENTORY.ALWAYSPICKUP
}

ACTOR EnergySphere : CustomInventory Replaces Megasphere
{
	+COUNTITEM
	+INVENTORY.ALWAYSPICKUP
	Inventory.PickupMessage "Megasphere"
	Inventory.PickupSound "misc/p_pkup"
	Tag "Megasphere"
	States
	{
	Spawn:
		TNT1 A 0 A_CheckSight("Spawn2")
		MEGA AABBCCDD 2 BRIGHT A_SpawnItem("LensFlare",0,35)
		Loop
	Spawn2:	
		MEGA AABBCCDD 2 BRIGHT
		Goto Spawn
	Pickup:
        TNT1 AAAAAAAAAAAAA 0 A_CustomMissile ("ShinnySmoke", 0, 0, random (0, 360), 2, random (0, 360))
		TNT1 A 0 A_GiveInventory("HeavyArmor", 1)
		TNT1 AA 0 A_GiveInventory("SoulsphereHealth", 1)
		Stop
	}
}	


// infrared -----------------------------------------------------------------

ACTOR NightVision : CustomInventory
{
	Game Doom
	SpawnID 138
	+COUNTITEM
	+INVENTORY.ALWAYSPICKUP
	Inventory.PickupMessage "You got the Infrared Vision Googles."
	States
	{
	Spawn:
		TNT1 A 0 A_CheckSight("Spawn2")
		SVIS E 7
		SVIS D 3 Bright A_SpawnItem("RedFlareVerySmall",0,10)
		SVIS C 2 Bright A_SpawnItem("RedFlareVerySmall",0,10)
		SVIS BAB 1 Bright A_SpawnItem("RedFlareVerySmall",0,10)
		SVIS C 2 Bright A_SpawnItem("RedFlareVerySmall",0,10)
		SVIS D 3 Bright A_SpawnItem("RedFlareVerySmall",0,10)
		Loop
	Spawn2:
		SVIS E 4
		SVIS DCBACD 2 BRIGHT
		Goto Spawn
		
	Pickup:
		TNT1 A 1
		TNT1 A 0 A_GiveInventory("HasInfrared", 1)
		TNT1 A 0 A_GiveInventory("NightVisionGiver", 1)
		TNT1 A 0 A_GiveInventory("HasInfraRed", 1)
		TNT1 A 0 ACS_ExecuteAlways(398, 0, 0, 0, 0)
		TNT1 A 1
		Stop
		
	}
}


ACTOR NightVisionGiver : PowerupGiver
{
	Game Doom
	SpawnID 138
	+COUNTITEM
	+INVENTORY.AUTOACTIVATE
	+INVENTORY.ALWAYSPICKUP
	Inventory.MaxAmount 0
	Powerup.Type Torch
	Powerup.Color 99 99 99
	Inventory.PickupMessage "$GOTVISOR"
	//Powerup.Colormap 0.0, 0.0, 0.0, 1.0,0.5,0.5
	Powerup.Duration 4200
	States
	{
	Spawn:
		SVIS E 7
		SVIS D 3 Bright A_SpawnItem("RedFlareVerySmall",0,10)
		SVIS C 2 Bright A_SpawnItem("RedFlareVerySmall",0,10)
		SVIS BAB 1 Bright A_SpawnItem("RedFlareVerySmall",0,10)
		SVIS C 2 Bright A_SpawnItem("RedFlareVerySmall",0,10)
		SVIS D 3 Bright A_SpawnItem("RedFlareVerySmall",0,10)
		Loop
		
	
	}
}


ACTOR ThermalScope : PowerupGiver 
{
Powerup.Type LightAmp
Powerup.Duration 20
}

ACTOR ThermalScopeGiver : PowerupGiver //NightVisionGiver 
{
	Powerup.Type LightAmp
	Powerup.Duration 14
}



// Berserk ------------------------------------------------------------------

ACTOR BerserkPack : CustomInventory Replaces Berserk
{
	Game Doom
    Scale 1.2
	SpawnID 134
	+COUNTITEM
	+INVENTORY.ALWAYSPICKUP
	Inventory.PickupMessage "$GOTBERSERK"
	Inventory.PickupSound "misc/p_pkup"
    Inventory.PickupSound "BERSPKUP"
	+Inventory.NEVERRESPAWN
	Tag "Berserk Pack"
	States
	{
	Spawn:
		MEDK C 0
		MEDK C 0 A_SpawnItemEx("EvidenceCheckerbERSERk", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
	Spawn1:	
		TNT1 A 0 A_CheckSight("Spawn2")	
		MEDK C 2 A_SpawnItem("RedFlareVerySmall",0,10)
		Loop
	Spawn2:
		MEDK C 14
		Goto Spawn1
	Pickup:
		TNT1 A 0 A_GiveInventory("PowerStrength")
		TNT1 A 0 HealThing(100, 0)
		//TNT1 A 0 ACS_NamedExecuteAlways("GetBerserkEffect")
		//TNT1 A 0 A_SelectWeapon("Melee_Attacks")
		TNT1 A 20
		TNT1 A 0 A_Print ("Press Reload (R) to alternate execution modes")
		Stop
	}
}

ACTOR SuperBlurSphere : CustomInventory //Replaces BlurSphere
{
  +COUNTITEM
  +VISIBILITYPULSE
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  +INVENTORY.BIGPOWERUP
  RenderStyle Translucent
  Inventory.PickupMessage "$GOTINVIS" // "Partial Invisibility"
  States
  {
  Spawn:
     PINS AABBCCDDCCBB 2 Bright A_SpawnItem("RedFlare", 0, 24)
     Loop
  Pickup:
	 TNT1 A 1
     TNT1 A 0 A_GiveInventory("IsInvisible", 1)
	 TNT1 A 0 A_GiveInventory("Blursphere", 1)
	 TNT1 A 0 ACS_ExecuteAlways(397, 0, 0, 0, 0)
	 TNT1 A 1
	 Stop
  }
}


ACTOR DemonStrengthRune : BerserkPack
{
	Game Doom
    Scale 1.0
	SpawnID 134
	+COUNTITEM
	+INVENTORY.ALWAYSPICKUP
	Inventory.PickupMessage "You got the Demon Strength Rune. RIP AND TEAR!"
	Inventory.PickupSound "misc/p_pkup"
	States
	{
	Spawn:
		DPRF AABBCCBB 2 A_SpawnItem("RedFlareSmall",0,20)
		Loop
	Pickup:
		TNT1 A 0 A_GiveInventory("PowerStrength", 1)
		TNT1 A 0 HealThing(10, 0)
		TNT1 A 20
		TNT1 A 0 A_Print ("You got the Demon Strength Rune. RIP AND TEAR!")
		Stop
	}
}


ACTOR RadSuits : CustomInventory Replaces Radsuit
{
  Height 46
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  Inventory.MaxAmount 0
  Inventory.PickupMessage "$GOTSUIT" // "Radiation Shielding Suit"
  States
  {
  Spawn:
    SUIT A 10
	SUIT A 10 BRIGHT
	Loop
  Pickup:
		TNT1 A 0
		TNT1 A 0 A_GiveInventory("Radsuit3", 1)
		TNT1 A 0 A_GiveInventory("Radsuit2", 1)
		Stop	
  }
}

ACTOR RadSuit2 : PowerupGiver
{
  Height 46
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  Inventory.MaxAmount 0
  Inventory.PickupMessage "$GOTSUIT" // "Radiation Shielding Suit"
  Powerup.Type "Mask"
  Powerup.Duration -60
  States
  {
  Spawn:
    SUIT A 10
	SUIT A 10 BRIGHT
	Loop
  }
}



ACTOR RadSuit3 : PowerupGiver
{
  Height 46
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  Inventory.MaxAmount 0
  
  Inventory.PickupMessage "$GOTSUIT" // "Radiation Shielding Suit"
  Powerup.Type "IronFeet"
  States
  {
  Spawn:
    SUIT A 10
	SUIT A 10 BRIGHT
	Loop
  }
}
		
//A randomizer for Demon Runes
ACTOR DemonRuneMix: CustomInventory
{
 scale 1.0
 radius 16
 height 16
 +INVENTORY.BIGPOWERUP
 +THRUGHOST
 damage 0
   Mass 1
   Inventory.PickupMessage "You got the Demon Sphere!"
    States
    {

	 Spawn:
		TNT1 A 0
		TNT1 A 0 ACS_NamedExecuteAlways("DemonRuneCheck")
		TNT1 A 4
	Live:	
		DMRU AABBCCDD 2 Bright A_SpawnItem("RedFlareMedium",0,20)
		Loop
	Pickup:
	    TNT1 A 1
		TNT1 A 0 A_TakeInventory("PowerInvulnerable", 1)
		TNT1 A 0 A_Jump(128, "Pickup2")
		TNT1 A 0 A_GiveInventory("DemonRuneBaron", 1)
		Stop
	Pickup2:
		TNT1 A 1
	    TNT1 A 0 A_GiveInventory("DemonRuneRevenant", 1)
		Stop
	Cancels:
		TNT1 A 0
		Stop
    }
}


actor NightVisionSpawner : RandomSpawner  Replaces InfraRed
{
    DropItem "DemonRuneMix"
    DropItem "NIghtvision"
	DropItem "Flamethrower2"
	Tag "Nightvision/Demon Rune/Flamethrower"
}



///////////////NEW COOL STUFF/////////////////////
//												//
//			S	C	H	I	S	M				//
//												//
//////////////////////////////////////////////////
/*Submitted: MagicWazard
Decorate: Ghastly_dragon, MagicWazard
GLDefs: MagicWazard
Sounds: NeuralStunner
Sprites: MagicWazard
Idea Base: Wanted a Doom-themed "fear" inventory item

Name: Crucifix Rosary
Type: Frightener
Palette: Custom
Summon: Crucifix
Use type: Inventory
Duration: 30 seconds
Brightmaps: Yes
Added States: No
ACS: No


When used, this item causes enemies to fear the player for 30 seconds. Carried
in player's inventory until used; you can carry 10 at once. A Doom-themed
counterpart to the Mask of Terror.*/

Actor Crucifix : PowerupGiver
{
  //$Category Powerups
  //$Title "Crucifix Rosary"
  +INVENTORY.INVBAR
  +INVENTORY.FANCYPICKUPSOUND
  +COUNTITEM
  Inventory.MaxAmount 10
  Inventory.InterHubAmount 10
  Powerup.Type Frightener
  Powerup.Color White 0.1
  Powerup.Duration -30
  Inventory.PickupMessage "You got a crucifix rosary! Make 'em repent!"
  Inventory.Icon "CRFXZ0"
  Inventory.UseSound "crucifix/use"
  States
  {
  Spawn:
    CRFX AAAAAAABCDEF 3 Bright
    Loop
  }
}

/* 
Name: Icon of the Raven
Type: Morph
Palette: Heretic
Summon: ArtiRaven
Use Type: Inventory
Duration: 60 seconds


An artifact developed centuries ago by druids and other nature-worshipping magic users, the Icon of the
Raven morphs the user into an ordinary-looking raven. While such a creature doesn't have very impressive
combat abilities, the increased mobility from flight as well as its inconspicuous nature make it very
useful for scouting.

Decorate: Ghastly_dragon
Sprites: Raven Software, NeuralStunner, Neoworm
*/

Actor PowerRavenMorph : PowerMorph
{
  PowerMorph.PlayerClass "RavenPlayer"
  PowerMorph.MorphStyle ( MRF_FULLHEALTH | MRF_ADDSTAMINA | MRF_WHENINVULNERABLE | MRF_LOSEACTUALWEAPON | MRF_NEWTIDBEHAVIOUR | MRF_UNDOBYDEATH | MRF_UNDOBYDEATHSAVES )
}

Actor ArtiRaven : PowerupGiver
{
  Inventory.PickupSound "Misc/p_pkup"
  Inventory.PickupMessage "Icon of the Raven"
  Inventory.DefMaxAmount
  Inventory.Icon "ICRVA0"
  Powerup.Type RavenMorph
  Powerup.Duration -60
  +Inventory.InvBar
  +FloatBob
  +Inventory.PickupFlash
  +CountItem
  Scale 0.6
  States
  {
  Spawn:
    ICRV BCDC 6 Bright
    Loop
  }
}

Actor PowerRavenInvisibility : PowerInvisibility
{
  Powerup.Mode None
  Powerup.Strength 0
}

Actor PowerRavenFlight : PowerFlight
{
  Inventory.Icon "TNT1A0"
}

Actor RavenStealth : PowerupGiver
{
  Inventory.PickupSound ""
  Inventory.PickupMessage ""
  Inventory.MaxAmount 0
  Inventory.Icon "TNT1A0"
  Powerup.Type RavenInvisibility
  Powerup.Duration 8
  +Inventory.AutoActivate
  States
  {
  Spawn:
    TNT1 A 1
    Fail
  }
}

Actor RavenFlyer : PowerupGiver
{
  Inventory.PickupSound ""
  Inventory.PickupMessage ""
  Inventory.MaxAmount 0
  Inventory.Icon "TNT1A0"
  Powerup.Type RavenFlight
  Powerup.Duration 8
  +Inventory.AutoActivate
  States
  {
  Spawn:
    TNT1 A 1
    Fail
  }
}

Actor RavenPowerups : CustomInventory
{
  Inventory.MaxAmount 0
  +Inventory.AutoActivate
  States
  {
  Use:
    TNT1 A 0 A_GiveInventory("RavenFlyer", 1)
    TNT1 A 0 A_GiveInventory("RavenStealth", 1)
    Stop
  }
}

Actor RavenPlayer : PlayerPawn
{
  Health 30
  ReactionTime 0
  PainChance 255
  Radius 16
  Height 56
  Speed 0.5
  +NoSkin
  -PickUp
  +NoTarget
  Player.Viewheight 32
  Player.DisplayName "Raven"
  Player.MorphWeapon "RavenWeapon"
  States
  {
  Spawn:
    RVPL A 0
    RVPL ABCD 5 A_GiveInventory("RavenPowerups", 1)
    Loop
  See:
    RVPL ABCD 5 A_GiveInventory("RavenPowerups", 1)
    Loop
  Pain:
    RVPL C 4 A_Pain
    Goto Spawn
  Death:
    TNT1 A -1
    Stop
  }
}

Actor RavenWeapon : Beak
{
  Weapon.SelectionOrder 10000
  +Weapon.DontBob
  +Weapon.MeleeWeapon
  +Weapon.NoAlert
  States
  {
  Ready:
    TNT1 A 1 A_WeaponReady
    Loop
  Deselect:
    TNT1 A 1 A_Lower
    Loop
  Select:
    TNT1 A 1 A_BeakRaise
    Loop
  Fire:
    TNT1 A 18 A_Punch
    Goto Ready
  }
}

//LARGE BLOOD CONTAINER
/*Submitted: Lucario
Decorate: Lucario
Sounds: Raven Software
Sprites: Raven Software
Sprite Edit: Lucario
Idea Base: Hexen/Heretic vials*/

ACTOR LargeBloodContainer : Health 555
{
	//$Category Deathball items
  +FLOATBOB
  Inventory.Amount 150 //ALMOST THE SAME AS SOUL SPHERE
  Inventory.PickupMessage "Picked up a large blood container."
  inventory.pickupsound "misc/bttlup"
  States
  {
  Spawn:
    MLBL A -1
    Stop
  }
}

//SMALL BLOOD CONTAINER

ACTOR SmallBloodContainer : Health 556
{
	//$Category Deathball items
  +FLOATBOB
  Inventory.Amount 50
  Inventory.PickupMessage "Picked up a small blood container."
  inventory.pickupsound "misc/bttlup"
  States
  {
  Spawn:
    MSBL A -1
    Stop
  }
}

//SUPER STIMPACK
/*
[Info]
Name: SuperStim
Type: Protection & Health
Palette: Doom
Summon: SuperStim
Duration: 10 seconds
Use type: Instant

[Credits]
Submitted: Captain Toenail
Decorate: Captain Toenail
GLDefs: None
Sounds: None
Sprites: Id Software
Sprite Edit: Captain Toenail
Idea Base: Berserk
*/

actor QuarterDamage : PowerProtection { damagefactor 0.25 }

actor SuperStimDamage : PowerupGiver
{
  powerup.duration -10
  powerup.type "QuarterDamage"
  powerup.color "red", 0.1
  +INVENTORY.ALWAYSPICKUP
  +AUTOACTIVATE
}

ACTOR SuperStim : CustomInventory 12764
{
  +COUNTITEM
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupMessage "Super Stim!"
  Inventory.PickupSound "misc/i_pkup"
  States
  {
  Spawn:
    SSTM A -1
    Stop
  Pickup:
    TNT1 A 0 A_GiveInventory("SuperStimDamage")
    TNT1 A 0 HealThing(10, 0)
    Stop
  }
}

/*
Name: Vitality Serum
Type: Health
Palette: Custom
Summon: VitalitySerum
Use type: Instant
Duration: Infinite
Brightmaps: Yes
Added States: No
ACS: No

Decorate: MagicWazard

Permanently boosts your max health by 5 points (or whatever value you like).
Heals the player to their new full health value.
*/
actor VitalitySerum : UpgradeStamina
{
  //$Category Powerups
  //$Title "Vitality Serum"
  Radius 20
  Scale 0.9
  Inventory.Amount 5 //this controls how much health boost you receive
  Inventory.MaxAmount 100 //this controls how high your health can get
  +COUNTITEM
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupMessage "Your body toughens slightly..."
  States
  {
  Spawn:
    VSRM ABC 6 Bright
    loop
  }
}

//MEGAMAP
/*
[Info]
Name: MegaMap
Type: Scanner
Palette: Doom
Summon: Megamap
Duration: Infinite (till level end)
Use type: Instant

[Credits]
Captain Toenail
Idea Base: IDDT cheat code (reveals actors on automap)
*/

actor MegaMap : CustomInventory 12765
{
  +COUNTITEM
  +INVENTORY.FANCYPICKUPSOUND
  +INVENTORY.ALWAYSPICKUP
  Inventory.MaxAmount 0
  Inventory.PickupSound "misc/p_pkup"
  Inventory.PickupMessage "Mega Map!"
  states
  {
  Spawn:
    MMAP ABCDCB 6 Bright
    Loop
  Pickup:
    TNT1 A 1 A_GiveInventory ("Allmap")
    TNT1 A 0 A_GiveInventory ("DoomScanner")
    stop
  }
}

actor DoomScanner : PowerupGiver
{
  powerup.type "Scanner"
  +INVENTORY.AUTOACTIVATE
  states
  {
  Spawn:
    TNT1 A 1
    stop
  }
}


//BRACERS OF FORCE
/*
Name: Bracers of Force
Type: Protection
Palette: Heretic
Summon: BracersOfForce
Use Type: Inventory
Duration: 60 seconds

Decorate: Ghastly_dragon
Sprites: Raven Software
Sprite Edit: Ghastly_dragon


A powerful enchantment that requires additional magic as fuel. Bracers of Force protect
their wearer with a field of energy, that reduces the amount of damage taken by 75%.
*/

Actor BracersOfForce : CustomInventory
{
  +FloatBob
  +CountItem
  +Inventory.InvBar
  +Inventory.PickupFlash
  +Inventory.FancyPickupSound
  Inventory.DefMaxAmount
  Inventory.Icon "BOFRA0"
  Inventory.PickupSound "Misc/P_PkUp"
  Inventory.PickupMessage "Bracers Of Force"
  States
  {
  Spawn:
    BOFR BCDEFGHI 3 Bright
    Loop
  Use:
    TNT1 A 0 A_JumpIfInventory("Zeal", 10, "Succeed") //Replace with a fitting ammotype
    TNT1 A 0 A_GiveInventory("BracersOfForce", 1)
    TNT1 A 0 A_Print("Not enough Zeal")
    Stop
  Succeed:
    TNT1 A 0 A_TakeInventory("Zeal", 10)
    TNT1 A 0 A_GiveInventory("BracerPowerGiver", 1)
    Stop
//Hexen version
//Use:
//  TNT1 A 0 A_JumpIfInventory("Mana1", 25, "Use2") //If you have enough blue mana...
//  TNT1 A 0 A_GiveInventory("BracersOfForce", 1)
//  TNT1 A 0 A_Print("Not enough Mana")
//  Stop
//Use2:
//  TNT1 A 0 A_JumpIfInventory("Mana2", 25, "Succeed") //...and enough green mana
//  TNT1 A 0 A_GiveInventory("BracersOfForce", 1)
//  TNT1 A 0 A_Print("Not enough Mana")
//  Stop
//Succeed:
//  TNT1 A 0 A_TakeInventory("Mana1", 25)
//  TNT1 A 0 A_TakeInventory("Mana2", 25)
//  TNT1 A 0 A_GiveInventory("BracerPowerGiver", 1)
//  Stop
  }
}

Actor PowerBracers : PowerProtection
{
  DamageFactor 0.33
}

Actor BracerPowerGiver : PowerupGiver 
{
  +Inventory.AutoActivate
  Powerup.Type Bracers
  //Powerup.Color Blue 0.1
  Inventory.MaxAmount 0
  Powerup.Duration -60
  States
  {
  Spawn:
    TNT1 A 1
    Fail
  }
}

/*
Submitted: Salahmander
Decorate: Salahmander, MagicWazard
GLDefs: Salahmander
Sprites: id Software, Midway
Sprite Edit: Salahmander
Idea Base: Doom counterpart to Tome of the Forsaken.
Use this and no matter how much damage you take, your health will never drop below 1%.


ACTOR LegendSphere : PowerupGiver 12222
{
  +COUNTITEM
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  +INVENTORY.BIGPOWERUP
  Inventory.MaxAmount 0
  Scale 0.73
  Powerup.Type "Buddha"
  Powerup.Color 00 00 128, 0.3
  Inventory.PickupMessage "Legend Sphere!" 
  States
  {
  Spawn:
    LESP ABCD 6 Bright
    Loop
  }
}

*/


Actor KraterOfMight : PowerupGiver 21468
{
	Game Doom
	+COUNTITEM
	+INVENTORY.AUTOACTIVATE
	+INVENTORY.ALWAYSPICKUP
	+INVENTORY.FANCYPICKUPSOUND
	Inventory.PickupMessage "Infinite Ammo!"
	Inventory.PickupSound "misc/p_pkup"
	Powerup.Duration -30
	Powerup.Type "PowerInfiniteAmmo"
	Powerup.Color "255 0 255" 0.1
	States
	{
	Spawn:
		KRAT ABC 6 bright
		loop
	Pickup:
		TNT1 A 0 A_GiveInventory("BrutalBlueMana",200)
		TNT1 A 0 A_GiveInventory("BrutalGreenMana",200)
	loop//stop
	}
}
//REGENERATION
//Credits: scalliano
/*Name: Regeneration Sphere
Type: Regeneration
Palette: Custom
Summon: Regensphere
Duration: 60 seconds
Use type: Instant*/

actor RegenerationSphere : PowerupGiver 32602
{
	Game Doom
	inventory.pickupmessage "Regeneration!!."
	inventory.maxamount 0
	powerup.duration -60
	powerup.color "FF FF FF", 0.05
	powerup.type Regeneration
	+COUNTITEM
	+INVENTORY.AUTOACTIVATE
	+INVENTORY.ALWAYSPICKUP
	States
	{
	Spawn:
		REGN ABCD 6 Bright
		Loop
	}
}

//SALVATION
/*Name: Salvation Sphere
Type: Health\Teleport
Palette: Custom
Summon: SalvationSphere, Salvation Sphere2
Use type: Inventory
Duration: Instant

Decorate: PillowBlaster
Sounds: Blizzard Entertainment
Sprites: Captain Toenail
Idea Base: DoomedArchvileDemon's idea.
*/

actor Salvationsphere : CustomInventory
{
  Inventory.PickupMessage "Salvationsphere!"
  Inventory.Amount 1
  Inventory.MaxAmount 1
  Inventory.PickupSound "misc/p_pkup"
  Inventory.UseSound "items/salvation"
  Inventory.Icon ARTISALV
  Renderstyle Add
  +INVENTORY.FANCYPICKUPSOUND
  +INVBAR
  +COUNTITEM
  +FLOATBOB
  states
  {
  Spawn:
	SALV ABCDE 3 Bright
	loop
  Use:
 	TNT1 A 0 A_GiveInventory("Soulsphere")
	TNT1 A 0 A_GiveInventory("Salvate")
	Stop
  }
}

//Alternate Salvation

actor Salvate : ArtiTeleport
{
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
}

ACTOR SalvationSphere2 : PuzzleItem
{
     Inventory.PickupSound "misc/p_pkup"
     Inventory.PickupMessage "Salvationsphere!"
     Inventory.Icon ARTISALV
     Inventory.Amount 1
     Inventory.MaxAmount 1
     Renderstyle Add
     +INVENTORY.ALWAYSPICKUP
     +INVENTORY.FANCYPICKUPSOUND
     +INVBAR
     +COUNTITEM
     +FLOATBOB
   States
   {
   Spawn:
	SALV ABCDE 3 Bright
	loop
   }
}

ACTOR SalvatedDoomguy : DoomPlayer
{

  States
  {
	Pain:
		PLAY G 0 A_JumpIfInventory("SalvationSphere2",1,"GoingToSalvate")
		PLAY G 4 
		PLAY G 4 A_Pain
		Goto Spawn
	GoingToSalvate:
		PLAY G 4 A_JumpIfHealthLower(20, "GoingTo")
		PLAY G 4 A_Pain
		Goto Spawn
	GoingTo:
 		TNT1 A 0 A_GiveInventory("Soulsphere")
		TNT1 A 0 A_GiveInventory("Salvate")
		TNT1 A 0 A_PlaySound("items/salvation")
		PLAY G 4 A_TakeInventory("SalvationSphere2",1)
		PLAY G 4
		Goto Spawn
  }
}

//LIFESHIELD SPHERE
/*[Info]
This is an artifact that uses the player's armor as "energy". It consumes the
armor, and in return, it provides absolute protection against all damage.

[Credits]
Submitted: Blue Shadow
Decorate: Blue Shadow
GLDefs: Blue Shadow
Sprites: id Software, Midway
Sprite Edit: CaptainToenail (Sphere), Blue Shadow

===============================ACS SOURCE===============================================
					#library "lfshitem.acs"
					#include "zcommon.acs"

					Script "Lifeshield Sphere - Main" (int cons_rate, int cons_amount)
					{
					  If(cons_rate <= 0) cons_rate = 1; // We don't want a runaway script on out hand
					  If(cons_amount <= 0) cons_amount = 1; // There is no point of 0 consumption amount

					  Do
					  {
						Delay(cons_rate);
						TakeInventory("BasicArmor", cons_amount);
					  }

					  // Take the powerup away once there isn't enough armor to keep it going
					  While(CheckInventory("BasicArmor") >= cons_amount);

					  TakeInventory("PowerLifeshield", 1);
					}

					Script "Lifeshield Sphere - Activation check" (int cons_amount)
					{
					  If(cons_amount <= 0) cons_amount = 1; // There is no point of 0 consumption amount

					  SetResultValue(CheckInventory("BasicArmor")); // Return the armor amount the player has
=========================================================================================
} */

ACTOR LifeshieldSphere : CustomInventory
{
  Inventory.DefMaxAmount
  Inventory.Icon "LFSHSPHR"
  Inventory.PickupMessage "Lifeshield Sphere!"
  Inventory.PickupSound "misc/p_pkup"
  Inventory.UseSound "misc/p_pkup"
  Tag "Grants full protection from damage through armor consumption"
  +COUNTITEM
  +INVENTORY.BIGPOWERUP
  +INVENTORY.FANCYPICKUPSOUND
  +INVENTORY.INVBAR

  const int LSS_CONS_RATE = 6; // Consumes armor every 6 tics (~0.17 sec)
  const int LSS_CONS_AMOUNT = 1; // Consumes 1 point of armor

  States
  {
  Spawn:
    LFSS ABCDEF 4 Bright Light("LifeshieldSphere")
    Loop
  Use:
    TNT1 A 0 A_JumpIfInventory("PowerLifeshield", 1, "NoUse") // If the powerup is already running prevent the use of another
    TNT1 A 0 A_JumpIf(CallACS("Lifeshield Sphere - Activation check", LSS_CONS_AMOUNT) >= LSS_CONS_AMOUNT, "ActivatePower") // If there is enough armor, activate the powerup
    TNT1 A 0 A_Log("There is not enough armor to use the sphere.")
    Fail
  NoUse:
    TNT1 A 0
    Fail
  ActivatePower:
    TNT1 A 0 A_GiveInventory("PowerLifeshield", 1)
    TNT1 A 0 ACS_NamedExecuteAlways("Lifeshield Sphere - Main", 0, LSS_CONS_RATE, LSS_CONS_AMOUNT)
    Stop
  }
}

ACTOR PowerLifeshield : PowerProtection
{
  DamageFactor "Normal", 0
  Powerup.Color 255, 176, 0, 0.125
  Powerup.Duration 0x7FFFFFFF // A VERY long duration
}

//SHIELD SPHERE
/*[Info]
Name: Shield Sphere
Type: Reflective Invulnerability
Palette: Custom
Summon: ShieldSphere
Duration: 30 seconds
Use type: Instant

[Credits]
Submitted: Captain Toenail
Decorate: Captain Toenail
GLDefs: Captain Toenail
Sounds: None
Sprites: HacX
Sprite Edit: Captain Toenail
*/

ACTOR ShieldSphere : PowerupGiver 12763
{
  +COUNTITEM
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  +INVENTORY.BIGPOWERUP
  Inventory.MaxAmount 0
  Powerup.Type "Invulnerable"
  Powerup.Mode "Reflective"
  Powerup.Color GoldMap
  Inventory.PickupMessage "Shield Sphere!"
  States
  {
  Spawn:
    SPOT ABCDCB 3 Bright
    Loop
  }
}

//SPIRITUAL ARMOR ORB
/*Name: Spiritual Armor Orb
Type: ArmorBonus
Palette: Custom
Summon: ArmorOrb
Use Type: Instant
Duration: Instant
Credit: Blue Shadow

This orb can only be of use to the player if he/she already has an armor
equiped. It gives a few points of armor up to the armor's max save amount.*/

ACTOR ArmorOrb : CustomInventory
{
  Inventory.PickupMessage "Picked up a spiritual armor orb."
  Inventory.PickupSound "pickup/armororb"
  Scale 0.6
  States
  {
  Spawn:
    SPAR ABCDEFGHIJKJIHGFEDCB 2 Bright
    Loop
  PickUp:
    TNT1 A 0 A_JumpIfArmorType("GreenArmor", "NoPickup", 100)
    TNT1 A 0 A_JumpIfArmorType("GreenArmor", "Max100")
    TNT1 A 0 A_JumpIfArmorType("BlueArmor", "NoPickup", 200)
    TNT1 A 0 A_JumpIfArmorType("BlueArmor", "Max200")
    TNT1 A 0 A_JumpIfArmorType("BlueArmorForMegasphere", "NoPickup", 200)
    TNT1 A 0 A_JumpIfArmorType("BlueArmorForMegasphere", "Max200")
    Fail
  NoPickup:
    TNT1 A 0
    Fail
  Max100:
    TNT1 A 0 A_GiveInventory("100MaxArmor", 1)
    Stop
  Max200:
    TNT1 A 0 A_GiveInventory("200MaxArmor", 1)
    Stop
  }
}

ACTOR 100MaxArmor : ArmorBonus
{
  Armor.SaveAmount 10
  Armor.MaxSaveAmount 100
}

ACTOR 200MaxArmor : 100MaxArmor { Armor.MaxSaveAmount 200 }

//SIGIL SCROLL
/*
Name: Sigil Scroll
Type: Defensive
Palette: Heretic
Summon: ArtiSigil
Use type: Inventory
Duration: ~15 seconds
Credits: Captain Toenail

An arcane scroll. When the words are read aloud, a magical sigil will be
inscribed upon the ground. Any who tread upon the sigil will be cast through the
aether, only to emerge, bewildered, at a nearby location.

It is an inventory item that creates a temporary teleport gate upon the ground.
Monsters touching this 'sigil' will be teleported to a random deathmatch start,
likewise players are teleported to a random player start - similar to Hexen's
Chaos Device. Useful for clearing areas of monsters or escaping from tricky
locations.*/
ACTOR ArtiSigil : CustomInventory 13570
{
  +COUNTITEM
  +FLOATBOB
  +INVENTORY.INVBAR
  +INVENTORY.PICKUPFLASH
  +INVENTORY.FANCYPICKUPSOUND
  Inventory.Icon "ARTICSIG"
  Inventory.PickupSound "misc/p_pkup"
  Inventory.PickupMessage "SIGIL SCROLL"
  Inventory.DefMaxAmount
  
  States
  {
  Spawn:
    CSIP A 6
    Loop
  Use:
    TNT1 A 0 A_SpawnItem ("ChaosSigil", 64, 0, 0, 0) 
    Stop
  }
}

ACTOR ChaosSigil
{
  Radius 8
  Height 4
  Renderstyle Add
  Scale 0.5
  yScale 0.05
  
  var int user_sigil;
  
  +NOBLOCKMAP
  +MOVEWITHSECTOR
  +DONTSPLASH
  +FORCEYBILLBOARD
  
  States
  {
  Spawn:
    CSIG A 8 bright A_SpawnItemEx("TeleGlitter1", random[TeleGlitter](0,31)-16, random[TeleGlitter](0,31)-16, 0, 0, 0, 0.25)
	CSIG A 0 bright A_SpawnItemEx ("ChaosSigilTeleporter", 0, 0, 0, 0, 0, 8, 0, 0, 0)
	CSIG A 0 bright A_SetUserVar ("user_sigil", user_sigil + 1)
	CSIG A 0 bright A_JumpIf(user_sigil == 64, "Death")
	Loop
  Death:
    CSIG A 4 bright A_FadeOut(0.1)
	Loop
  }
}

// Inherits from Hexen's Chaos Device.
// This projectile will teleport a monster
// to a random deathmatch start, or a player
// to a random player start upon contact.
ACTOR ChaosSigilTeleporter : TelOtherFX1
{
  RenderStyle None
  ReactionTime 8
  
  States
  {
  Spawn:
	FX10 A 1 A_CountDown
	Loop
  Death:
    TNT1 A 1
    Stop
  }
}


//SCROLL OF FIREWALL
/*Decorate: Ghastly_dragon
Sprites: Raven Software, Solarsnowfall (Flames)
Sprite Edit: Captain Toenail, Xaser
Sounds: Raven Software
Idea Base: Heretic 2's Firewall spell*/

Actor ScrollOfHellfire : CustomInventory
{
  Inventory.PickupSound "misc/p_pkup"
  Inventory.PickupMessage "Scroll Of Hellfire"
  Inventory.Icon HFSCA0
  +Inventory.InvBar
  +Floatbob
  +CountItem
  +Inventory.PickupFlash
  Inventory.DefMaxAmount
  States
  {
  Spawn:
    HFSC BCDC 6 Bright
    Loop
  Use:
    TNT1 A 0 A_JumpIf(Waterlevel > 1, "Failed")
    TNT1 A 0 A_FireCustomMissile("FirewallSpawner", 0, 0, 0)
    Stop
  Failed:
    TNT1 A 0 A_Print("Cannot use underwater!")
    TNT1 A 0 A_GiveInventory("ScrollOfHellfire", 1)
    Stop
  }
}

Actor FirewallSpawner
{
  Radius 8
  Height 5
  Damage 0
  Speed 16
  +NoClip
  +DropOff
  +FloorClip
  +NoBlockMap
  +DontSplash
  +NoTeleport
  States
  {
  Spawn:
    TNT1 A 4
  Death:
    TNT1 A 0 A_Stop
    TNT1 A 0 A_JumpIf(Waterlevel > 1, "Fizzle")
    TNT1 A 0 A_PlaySound("ScrollOfHellfire/Start")
    TNT1 A 0 A_SpawnItemEx("Firewall1", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 A 6 A_SpawnItemEx("Firewall2", 0, 0, 0, 0, 0, 0, 0, 128)
    TNT1 A 0 A_SpawnItemEx("Firewall1", 0, -16, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 A 0 A_SpawnItemEx("Firewall1", 0, 16, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 A 0 A_SpawnItemEx("Firewall1", 0, -32, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 A 0 A_SpawnItemEx("Firewall2", 0, -32, 0, 0, 0, 0, 0, 128)
    TNT1 A 0 A_SpawnItemEx("Firewall1", 0, 32, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 A 6 A_SpawnItemEx("Firewall2", 0, 32, 0, 0, 0, 0, 0, 128)
    TNT1 A 0 A_SpawnItemEx("Firewall1", 0, -48, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 A 0 A_SpawnItemEx("Firewall1", 0, 48, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 A 0 A_SpawnItemEx("Firewall1", 0, -64, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 A 0 A_SpawnItemEx("Firewall2", 0, -64, 0, 0, 0, 0, 0, 128)
    TNT1 A 0 A_SpawnItemEx("Firewall1", 0, 64, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 A 6 A_SpawnItemEx("Firewall2", 0, 64, 0, 0, 0, 0, 0, 128)
    TNT1 A 0 A_SpawnItemEx("Firewall1", 0, -80, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 A 0 A_SpawnItemEx("Firewall1", 0, 80, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    Stop
  Fizzle:
    TNT1 A 1
    Stop
  }
}

Actor Firewall1
{
  Radius 15
  Height 60
  Mass 0x7FFFFFFF
  +Shootable
  +NoTeleport
  +NoDamage
  +NoBlood
  +DontSplash
  +NoDamageThrust
  +BloodlessImpact
  -BloodSplatter
  +NoTarget
  DamageType Fire
  Obituary "%o tried to walk through a wall of fire"
  States
  {
  Spawn:
    TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("FirewallDamage", 0, 0, 30, 0, 0, 0, 0, SXF_TRANSFERPOINTERS) //A_Explode(2, 32, 1)
    TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("FirewallDamage", 0, 0, 30, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("FirewallDamage", 0, 0, 30, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("FirewallDamage", 0, 0, 30, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("FirewallDamage", 0, 0, 30, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("FirewallDamage", 0, 0, 30, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("FirewallDamage", 0, 0, 30, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("FirewallDamage", 0, 0, 30, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("FirewallDamage", 0, 0, 30, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("FirewallDamage", 0, 0, 30, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("FirewallDamage", 0, 0, 30, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("FirewallDamage", 0, 0, 30, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("FirewallDamage", 0, 0, 30, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("FirewallDamage", 0, 0, 30, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("FirewallDamage", 0, 0, 30, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
    Stop
  }
}

Actor Firewall2
{
  Radius 15
  Height 55
  Mass 0x7FFFFFFF
  +NoTeleport
  +DontSplash
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("FirewallFlames", Random(0, 4), 0, 15, Random(0, 2), 0, Random(1, 3), Random(0, 360), 128)
    Stop
  }
}

Actor FirewallDamage
{
  Height 1
  Radius 1
  Speed 0
  Projectile
  +DontSplash
  +NoDamageThrust
  +BloodlessImpact
  -BloodSplatter
  +NoTarget
  DamageType Fire
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 1 A_Explode(2, 32, 1, 0, 32)
    Stop
  }
}

Actor FirewallFlames
{
  +NoInteraction
  +NoTeleport
  +ForceXYBillboard
  Radius 0
  Height 0
  RenderStyle Add
  Scale 0.65
  States
  {
  /* Spawn:
    HLFR A 0
    HLFR A 0 A_Jump(128, "Spawn2")
    HLFR ABCDEFG 2 Bright
    HLFR HIJKL 1 Bright A_FadeOut(0.15)
    Stop
  Spawn2:
    HLFR MNOPQRS 2 Bright
    HLFR TUVWX 1 Bright A_FadeOut(0.15)
    Stop */
	
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(255, "SpawnA", "SpawnB", "SpawnC")
	SpawnA:
		FLM1 A 1 Bright A_Jump(255, "RotateA", "RotateB")
	SpawnB:
		FLM2 A 1 Bright A_Jump(255, "RotateA", "RotateB")
	SpawnC:
		FLM3 A 1 Bright A_Jump(255, "RotateA", "RotateB")
	RotateA:
		"####" ABCDEFG 2 Bright
		"####" HIJKL 1 Bright A_FadeOut(0.15)
		Wait
	RotateB:
		"####" MNOPQRS 2 Bright
		"####" TUVWX 1 Bright A_FadeOut(0.15)
		Wait
  }
}

